{
  "id" : "api/common/NgForOf",
  "title" : "NgForOf",
  "contents" : "<article>\n  <header class=\"api-header\">\n    <h1 class=\"no-toc\" id=\"ngforof\">NgForOf</h1>\n    <label class=\"api-type-label directive\">directive</label>\n    \n    \n    \n    <span class=\"version\"></span>\n  </header>\n\n  \n  <!-- INFO BAR -->\n<section class=\"info-bar\">\n\n<table class=\"is-full-width\">\n<tbody>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4wfc14obst93bim1zva6hqjl0\">npm 包</th>\n  <td><a href=\"https://www.npmjs.com/package/@angular/common\">@angular/common</a></td>\n</tr>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"dkuxw56x8curh875ge5tvqede\">模块</th>\n  <td><code>import { <a href=\"api/common/NgForOf\" class=\"code-anchor\">NgForOf</a> } from <a href=\"api/common\">'@angular/common'</a>;</code></td>\n</tr>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"ee4tba1a8v4m1low7rnv25o9l\">源码</th>\n  <td><a href=\"https://github.com/angular/angular/tree/5.2.11/packages/common/src/directives/ng_for_of.ts#L27-L195\">common/src/directives/ng_for_of.ts</a></td>\n</tr>\n\n</tbody>\n</table>\n\n  \n  \n  \n  <section class=\"directive-overview\">\n  <h2 id=\"overview\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ivgu86loww6mg4fq1brezlnd\"><i class=\"material-icons\">link</i>概览</h2>\n<code-example language=\"ts\" hidecopy=\"true\">\n@<a href=\"api/core/Directive\" class=\"code-anchor\">Directive</a>({ selector: '[<a href=\"api/common/NgForOf\" class=\"code-anchor\">ngFor</a>][<a href=\"api/common/NgForOf\" class=\"code-anchor\">ngForOf</a>]' })\nclass <a href=\"api/common/NgForOf\" class=\"code-anchor\">NgForOf</a>&lt;T&gt; implements <a class=\"code-anchor\" href=\"api/core/DoCheck\">DoCheck</a>, <a class=\"code-anchor\" href=\"api/core/OnChanges\">OnChanges</a> {\n  <a class=\"code-anchor\" href=\"api/common/NgForOf#ngForOf\">ngForOf: NgIterable&lt;T&gt;</a>\n  <a class=\"code-anchor\" href=\"api/common/NgForOf#ngForTrackBy\">ngForTrackBy: TrackByFunction&lt;T&gt;</a>\n  <a class=\"code-anchor\" href=\"api/common/NgForOf#ngForTemplate\">set ngForTemplate: TemplateRef&lt;NgForOfContext&lt;T&gt;&gt;</a>\n  <a class=\"code-anchor\" href=\"api/common/NgForOf#ngOnChanges\">ngOnChanges(changes: SimpleChanges): void</a>\n  <a class=\"code-anchor\" href=\"api/common/NgForOf#ngDoCheck\">ngDoCheck(): void</a>\n}\n</code-example>\n</section>\n\n  \n\n  \n\n<section class=\"selectors\">\n  <h2 id=\"selectors\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2ukliajrgrqzf6qt0k49ld9w9\"><i class=\"material-icons\">link</i>选择器</h2>\n  <code-example hidecopy=\"true\" class=\"no-box api-heading selector\">\n  [<a href=\"api/common/NgForOf\" class=\"code-anchor\">ngFor</a>][<a href=\"api/common/NgForOf\" class=\"code-anchor\">ngForOf</a>]\n  </code-example>\n</section>\n\n\n  \n<section class=\"inputs\">\n  <h2 id=\"inputs\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e41z1ta8j4fn0xhay00whz365\"><i class=\"material-icons\">link</i>输入</h2>\n  \n  <div class=\"input\">\n    <code><a href=\"api/common/NgForOf\" class=\"code-anchor\">ngForOf</a></code>&nbsp;bound to&nbsp;<code><a href=\"api/common/NgForOf#ngForOf\" class=\"code-anchor\">NgForOf.ngForOf</a></code>\n    \n  </div>\n  \n  <div class=\"input\">\n    <code>ngForTrackBy</code>&nbsp;bound to&nbsp;<code><a href=\"api/common/NgForOf#ngForTrackBy\" class=\"code-anchor\">NgForOf.ngForTrackBy</a></code>\n    \n  </div>\n  \n  <div class=\"input\">\n    <code>ngForTemplate</code>&nbsp;bound to&nbsp;<code><a href=\"api/common/NgForOf#ngForTemplate\" class=\"code-anchor\">NgForOf.ngForTemplate</a></code>\n    \n  </div>\n  \n</section>\n\n  \n  \n\n\n\n<section class=\"description\">\n  <h2 id=\"description\" data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"ar5q09mdsagdppsbze96eagxl\"><i class=\"material-icons\">link</i>说明</h2>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"by5k7q2fjyjpgqxv93hhuv3fj\"><code><a href=\"api/common/NgForOf\" class=\"code-anchor\">NgForOf</a></code> 指令会为可迭代对象中的每个条目实例化一个模板。每个实例化模板的上下文都继承自外部上下文，并使用给定的循环变量设置为可迭代对象中的当前条目。</p>\n<h3 id=\"local-variables\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aun5ok846lywbw7qpvufx6ttd\"><i class=\"material-icons\">link</i>局部变量</h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6vs8w7axxc1vxo6efrqaxuuyz\"><code><a href=\"api/common/NgForOf\" class=\"code-anchor\">NgForOf</a></code> 提供了一些可导出值，这些值可以别名为局部变量：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"wslhtey4u0ki8iqu32f2rgz5\"><code>$implicit: T</code>：可迭代对象（\n<code><a href=\"api/common/NgForOf\" class=\"code-anchor\">ngForOf</a></code>）中各个条目的值。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6r7mpo8bz03n6705emrii13oa\"><code><a href=\"api/common/NgForOf\" class=\"code-anchor\">ngForOf</a>: <a href=\"api/core/NgIterable\" class=\"code-anchor\">NgIterable</a>&lt;T&gt;</code>：可迭代表达式的值。当表达式比属性访问更复杂时，这很有用，例如使用异步管道（\n<code>userStreams | async</code>）时。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"r79y976vpanavpvkszrzx3e8\"><code>index: number</code>：可迭代者中当前条目的索引。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4nb37vjhxzqw30vro2iscpazw\"><code>first: boolean</code>：当条目是可迭代对象中的第一个条目时为真。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1ysdfbmqoa5jm1jnlilt0m9z8\"><code>last: boolean</code>：当条目是可迭代对象中的最后一个条目时为真。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"efkm1b1ttmiowv1a6djbbdpde\"><code>even: boolean</code>：当条目在可迭代对象中具有偶数索引时为真。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bwscerqsihrec3co8gr9k67k1\"><code>odd: boolean</code>：当条目在可迭代对象中具有奇数索引时为真。</li>\n</ul>\n<code-example>\n&lt;li *<a href=\"api/common/NgForOf\" class=\"code-anchor\">ngFor</a>=\"let user of userObservable | async as users; index as i; first as isFirst\"&gt;\n   {{i}}/{{users.length}}. {{user}} &lt;span *<a href=\"api/common/NgIf\" class=\"code-anchor\">ngIf</a>=\"isFirst\"&gt;default&lt;/span&gt;\n&lt;/li&gt;\n</code-example>\n<h3 id=\"change-propagation\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d4c4cv712mw3gj8j7c6xwbe6x\"><i class=\"material-icons\">link</i>更改传播</h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"731qzru7o1p7i3u9o2rgbsevt\">当迭代器的内容发生更改时，\n<code><a href=\"api/common/NgForOf\" class=\"code-anchor\">NgForOf</a></code> 会对 DOM 进行相应的更改：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"3lyzn09wzn0u58vgxsd9wu9cb\">当新增条目时，就会往 DOM 中添加一个模板实例。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"crf5o9r1ln5di7yhm9r6p3th0\">当移除条目时，其对应的模板实例也会被从 DOM 中移除。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"afbwhe36yhh9v96bs0ccr0hs8\">当条目集被重新排序时，他们对应的模板实例也会在 DOM 中重新排序。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5axfv49rf40d274fhgvgjgtai\">否则，该条目的 DOM 元素将保持不变。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cf0cnevku7qnoctehs49kz6l5\">Angular 使用对象标识来跟踪迭代器中的插入和删除，并在 DOM 中重现这些更改。这对动画和任何存在的状态控制（例如接受用户输入的 \n<code>&lt;input&gt;</code> 元素）具有重要意义。插入的行可以进行动画，删除的行可以进行动画，而未更改的行将保留任何未保存的状态，例如用户输入。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5qgcj7h1723kldyyvxza3ykei\">迭代器中元素的标识可能会在数据未更改的情况下发生更改。例如，如果迭代器是从对服务器的 RPC 生成的，并且该 RPC 重新运行，就会发生这种情况。即使数据没有改变，第二个响应也会生成具有不同标识的对象，Angular 会拆除整个 DOM 并重建它（就像所有旧元素都被删除，所有新元素都被插入一样）。这是一个昂贵的操作，应尽可能避免。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"auv8hcx7y3aq3bac3isrbmyyv\">为了自定义默认跟踪算法，\n<code><a href=\"api/common/NgForOf\" class=\"code-anchor\">NgForOf</a></code> 支持 \n<code>trackBy</code> 选项。\n<code>trackBy</code> 接受一个函数，该函数有两个参数：\n<code>index</code> 和 \n<code>item</code>。如果提供了 \n<code>trackBy</code>，Angular 会通过函数的返回值来跟踪更改。</p>\n<h3 id=\"syntax\" data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"8p44mx807exjp3s0k9dwbuxla\"><i class=\"material-icons\">link</i>语法</h3>\n<ul>\n<li><code>&lt;li *<a href=\"api/common/NgForOf\" class=\"code-anchor\">ngFor</a>=\"let item of items; index as i; trackBy: trackByFn\"&gt;...&lt;/li&gt;</code></li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"616ifyitai1yxdrp8i7jkxa3b\">使用 \n<code>&lt;ng-template&gt;</code> 元素：</p>\n<code-example>\n&lt;ng-template <a href=\"api/common/NgForOf\" class=\"code-anchor\">ngFor</a> let-item [<a href=\"api/common/NgForOf\" class=\"code-anchor\">ngForOf</a>]=\"items\" let-i=\"index\" [ngForTrackBy]=\"trackByFn\"&gt;\n  &lt;li&gt;...&lt;/li&gt;\n&lt;/ng-template&gt;\n</code-example>\n<h3 id=\"example\" data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"lzz2v4ucg07faxnpe2bu1wa1\"><i class=\"material-icons\">link</i>范例</h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"doh29zzsxhhuc2ezl46bqghj3\">有关更详细的示例，请参阅 \n<a href=\"http://plnkr.co/edit/KVuXxDp0qinGDyo307QW?p=preview\">动态示例</a>。</p>\n\n</section>\n\n\n  \n  \n\n\n\n\n\n\n<section class=\"constructors\">\n  <h2 id=\"constructor\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"64p310lbzdqiret0qyhhannvq\"><i class=\"material-icons\">link</i>构造函数</h2>\n  \n    <div class=\"constructor\">\n  <a id=\"constructor()\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">constructor(_viewContainer: <a href=\"api/core/ViewContainerRef\" class=\"code-anchor\">ViewContainerRef</a>, _template: <a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a>&lt;<a href=\"api/common/NgForOfContext\" class=\"code-anchor\">NgForOfContext</a>&lt;T&gt;&gt;, _differs: <a href=\"api/core/IterableDiffers\" class=\"code-anchor\">IterableDiffers</a>)</code-example></div>\n\n    \n    \n  \n</section>\n\n\n\n\n<section class=\"instance-members\">\n  <h2 id=\"members\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e62kgm2ztk7rgk6auybfiv91o\"><i class=\"material-icons\">link</i>成员</h2>\n  \n    <div class=\"instance-member\">\n  <a id=\"ngForOf\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><a href=\"api/common/NgForOf\" class=\"code-anchor\">ngForOf</a>: <a href=\"api/core/NgIterable\" class=\"code-anchor\">NgIterable</a>&lt;T&gt;</code-example></div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"ngForTrackBy\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">ngForTrackBy: <a href=\"api/core/TrackByFunction\" class=\"code-anchor\">TrackByFunction</a>&lt;T&gt;</code-example></div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"ngForTemplate\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">set ngForTemplate: <a href=\"api/core/TemplateRef\" class=\"code-anchor\">TemplateRef</a>&lt;<a href=\"api/common/NgForOfContext\" class=\"code-anchor\">NgForOfContext</a>&lt;T&gt;&gt;</code-example></div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"ngOnChanges\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">ngOnChanges(changes: <a href=\"api/core/SimpleChanges\" class=\"code-anchor\">SimpleChanges</a>): void</code-example></div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"ngDoCheck\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">ngDoCheck(): void</code-example></div>\n\n    \n    \n  \n</section>\n\n\n\n\n\n\n\n</section></article>\n<!-- links to this doc:\n - api/animations/stagger\n - api/animations/transition\n - api/common\n - api/common/CommonModule\n - api/common/NgForOfContext\n - api/common/SlicePipe\n - api/core/ChangeDetectorRef\n - api/core/EmbeddedViewRef\n - api/core/IterableDiffer\n - api/core/QueryList\n - api/core/TrackByFunction\n - api/forms/FormArrayName\n - api/forms/SelectControlValueAccessor\n - api/forms/SelectMultipleControlValueAccessor\n - api/upgrade/static/downgradeComponent\n - guide/ajs-quick-reference\n - guide/animations\n - guide/architecture-components\n - guide/component-interaction\n - guide/component-styles\n - guide/dependency-injection\n - guide/dependency-injection-in-action\n - guide/displaying-data\n - guide/docs-style-guide\n - guide/dynamic-form\n - guide/feature-modules\n - guide/forms\n - guide/frequent-ngmodules\n - guide/glossary\n - guide/http\n - guide/lifecycle-hooks\n - guide/pipes\n - guide/reactive-forms\n - guide/router\n - guide/structural-directives\n - guide/styleguide\n - guide/template-syntax\n - guide/testing\n - guide/upgrade\n - guide/user-input\n - tutorial/toh-pt2\n - tutorial/toh-pt3\n - tutorial/toh-pt4\n - tutorial/toh-pt5\n - tutorial/toh-pt6\n-->\n<!-- links from this doc:\n - api/common\n - api/common/NgForOf#change-propagation\n - api/common/NgForOf#constructor\n - api/common/NgForOf#description\n - api/common/NgForOf#example\n - api/common/NgForOf#inputs\n - api/common/NgForOf#local-variables\n - api/common/NgForOf#members\n - api/common/NgForOf#ngDoCheck\n - api/common/NgForOf#ngForOf\n - api/common/NgForOf#ngForTemplate\n - api/common/NgForOf#ngForTrackBy\n - api/common/NgForOf#ngOnChanges\n - api/common/NgForOf#ngforof\n - api/common/NgForOf#overview\n - api/common/NgForOf#selectors\n - api/common/NgForOf#syntax\n - api/common/NgForOfContext\n - api/common/NgIf\n - api/core/Directive\n - api/core/DoCheck\n - api/core/IterableDiffers\n - api/core/NgIterable\n - api/core/OnChanges\n - api/core/SimpleChanges\n - api/core/TemplateRef\n - api/core/TrackByFunction\n - api/core/ViewContainerRef\n - http://plnkr.co/edit/KVuXxDp0qinGDyo307QW?p=preview\n - https://github.com/angular/angular/tree/5.2.11/packages/common/src/directives/ng_for_of.ts#L27-L195\n - https://www.npmjs.com/package/@angular/common\n-->"
}