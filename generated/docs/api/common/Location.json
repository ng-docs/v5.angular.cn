{
  "id" : "api/common/Location",
  "title" : "位置",
  "contents" : "<article>\n  <header class=\"api-header\">\n    <h1 class=\"no-toc\" id=\"location\" data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"c7t6pix3w1vcsyn4xcsogvpsl\"><i class=\"material-icons\">link</i>位置</h1>\n    <label class=\"api-type-label class\">class</label>\n    \n    \n    \n    <span class=\"version\"></span>\n  </header>\n\n  \n  <!-- INFO BAR -->\n<section class=\"info-bar\">\n\n<table class=\"is-full-width\">\n<tbody>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4wfc14obst93bim1zva6hqjl0\">npm 包</th>\n  <td><a href=\"https://www.npmjs.com/package/@angular/common\">@angular/common</a></td>\n</tr>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"dkuxw56x8curh875ge5tvqede\">模块</th>\n  <td><code>import { <a href=\"api/common/Location\" class=\"code-anchor\">Location</a> } from <a href=\"api/common\">'@angular/common'</a>;</code></td>\n</tr>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"ee4tba1a8v4m1low7rnv25o9l\">源码</th>\n  <td><a href=\"https://github.com/angular/angular/tree/5.2.11/packages/common/src/location/location.ts#L20-L182\">common/src/location/location.ts</a></td>\n</tr>\n\n</tbody>\n</table>\n\n  \n<div class=\"what-it-does info-banner\">\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9o96wf5fhnc1l1j9s6iavxl7r\"><code><a href=\"api/common/Location\" class=\"code-anchor\">Location</a></code> 是一个服务，应用程序可以使用它与浏览器的 URL 进行交互。</p>\n\n</div>\n\n  \n  \n  <section class=\"class-overview\">\n<h2 id=\"overview\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ivgu86loww6mg4fq1brezlnd\"><i class=\"material-icons\">link</i>概览</h2>\n<code-example language=\"ts\" hidecopy=\"true\">\nclass <a href=\"api/common/Location\" class=\"code-anchor\">Location</a> {\n  <a class=\"code-anchor\" href=\"api/common/Location#constructor()\">constructor(platformStrategy: LocationStrategy)</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#normalizeQueryParams\">static normalizeQueryParams(params: string): string</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#joinWithSlash\">static joinWithSlash(start: string, end: string): string</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#stripTrailingSlash\">static stripTrailingSlash(url: string): string</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#path\">path(includeHash: boolean = false): string</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#isCurrentPathEqualTo\">isCurrentPathEqualTo(path: string, query: string = ''): boolean</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#normalize\">normalize(url: string): string</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#prepareExternalUrl\">prepareExternalUrl(url: string): string</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#go\">go(path: string, query: string = ''): void</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#replaceState\">replaceState(path: string, query: string = ''): void</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#forward\">forward(): void</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#back\">back(): void</a>\n  <a class=\"code-anchor\" href=\"api/common/Location#subscribe\">subscribe(onNext: (value: PopStateEvent) =&gt; void, onThrow?: ((exception: any) =&gt; void) | null, onReturn?: (() =&gt; void) | null): ISubscription</a>\n}\n</code-example>\n</section>\n\n  \n\n  \n\n\n<section class=\"description\">\n  <h2 id=\"description\" data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"ar5q09mdsagdppsbze96eagxl\"><i class=\"material-icons\">link</i>说明</h2>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"c6a9n9urjodlitgacm8igemm2\">根据使用哪个 \n<a href=\"api/common/LocationStrategy\"><code>LocationStrategy</code></a>，\n<code><a href=\"api/common/Location\" class=\"code-anchor\">Location</a></code> 将持久保存到 URL 的路径或 URL 的哈希段。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5hupgz502vrqydn6hy4qfp111\">注意：最好使用 \n<a href=\"api/router/Router#navigate\"><code>Router</code></a> 服务来触发路由更改。仅当需要在路由之外与规范化的 URL 进行交互或创建规范化的 URL 时，才使用 \n<code><a href=\"api/common/Location\" class=\"code-anchor\">Location</a></code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a1w8jozblpvnavqijhu9ffjov\"><code><a href=\"api/common/Location\" class=\"code-anchor\">Location</a></code> 负责根据应用的基准 href 对 URL 进行规范化。 规范化的 URL 是从 URL 主机开始的绝对路径，包含应用的基准 href，并且没有尾部斜杠：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"bs7a9p5kf3w1zb8mu48lld7az\"><code>/my/app/user/123</code> 是标准化的</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9w4u283fpk8ir2h9nyi6gp335\"><code>my/app/user/123</code> \n<strong>不是</strong> 规范化的</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"darf8cyvqzed6j2u9aag7v2zt\"><code>/my/app/user/123/</code> \n<strong>不是</strong> 规范化的</li>\n</ul>\n<h3 id=\"example\" data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"lzz2v4ucg07faxnpe2bu1wa1\"><i class=\"material-icons\">link</i>范例</h3>\n<code-example>\nimport {<a href=\"api/common/Location\" class=\"code-anchor\">Location</a>, <a href=\"api/common/LocationStrategy\" class=\"code-anchor\">LocationStrategy</a>, <a href=\"api/common/PathLocationStrategy\" class=\"code-anchor\">PathLocationStrategy</a>} from '@angular/common';\nimport {<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>} from '@angular/core';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'path-location',\n  providers: [<a href=\"api/common/Location\" class=\"code-anchor\">Location</a>, {provide: <a href=\"api/common/LocationStrategy\" class=\"code-anchor\">LocationStrategy</a>, useClass: <a href=\"api/common/PathLocationStrategy\" class=\"code-anchor\">PathLocationStrategy</a>}],\n  template: `\n    &lt;h1&gt;<a href=\"api/common/PathLocationStrategy\" class=\"code-anchor\">PathLocationStrategy</a>&lt;/h1&gt;\n    Current URL is: &lt;code&gt;{{location.path()}}&lt;/code&gt;&lt;br&gt;\n    Normalize: &lt;code&gt;/foo/bar/&lt;/code&gt; is: &lt;code&gt;{{location.normalize('foo/bar')}}&lt;/code&gt;&lt;br&gt;\n  `\n})\nexport class PathLocationComponent {\n  location: <a href=\"api/common/Location\" class=\"code-anchor\">Location</a>;\n  constructor(location: <a href=\"api/common/Location\" class=\"code-anchor\">Location</a>) { this.location = location; }\n}\n\n</code-example>\n\n</section>\n\n\n  \n  \n  <h2 id=\"subclasses\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2it4mtkmwb3l20bsr7l1ok8c8\"><i class=\"material-icons\">link</i>子类</h2>\n  <ul class=\"descendants class\">\n  \n    <li>\n      <pre class=\"prettyprint lang-ts\"><code><a href=\"api/common/testing/SpyLocation\" class=\"code-anchor\">SpyLocation</a></code></pre>\n      \n  \n  \n\n    </li>\n  \n  </ul>\n  \n\n\n\n<section class=\"static-members\">\n  <h2 id=\"static-members\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8ixh78z2dfifcy2khe8k014ge\"><i class=\"material-icons\">link</i>静态成员</h2>\n  \n    <div class=\"static-member\">\n  <a id=\"normalizeQueryParams\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><a href=\"api/upgrade/static\" class=\"code-anchor\">static</a> normalizeQueryParams(params: string): string</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8fte1ytnci7kl2edo5qqdjgro\">给定一个 URL 参数字符串，如果需要，在前面加上 '？'，否则按原样返回参数。</p>\n\n  </div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"static-member\">\n  <a id=\"joinWithSlash\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><a href=\"api/upgrade/static\" class=\"code-anchor\">static</a> joinWithSlash(start: string, end: string): string</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7cf9y4nruq9h73l5gch6bolsj\">给定 URL 的两个部分，如果需要，用斜杠将它们连接起来。</p>\n\n  </div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"static-member\">\n  <a id=\"stripTrailingSlash\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\"><a href=\"api/upgrade/static\" class=\"code-anchor\">static</a> stripTrailingSlash(url: string): string</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"u9tznmk0woc31srpcigbiigk\">如果 URL 有尾部斜杠，则将其删除，否则按原样返回 URL。此 方法查找 #、？或行尾的第一个出现位置，因为这些字符之后的任何 \n<code>/</code> 字符都不应被替换。</p>\n\n  </div>\n\n    \n    \n  \n</section>\n\n\n\n\n<section class=\"constructors\">\n  <h2 id=\"constructor\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"64p310lbzdqiret0qyhhannvq\"><i class=\"material-icons\">link</i>构造函数</h2>\n  \n    <div class=\"constructor\">\n  <a id=\"constructor()\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">constructor(platformStrategy: <a href=\"api/common/LocationStrategy\" class=\"code-anchor\">LocationStrategy</a>)</code-example></div>\n\n    \n    \n  \n</section>\n\n\n\n\n<section class=\"instance-members\">\n  <h2 id=\"members\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e62kgm2ztk7rgk6auybfiv91o\"><i class=\"material-icons\">link</i>成员</h2>\n  \n    <div class=\"instance-member\">\n  <a id=\"path\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">path(includeHash: boolean = false): string</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bdmekoak2pdui1t3pvgzz1hf3\">返回规范化的 URL 路径。</p>\n\n  </div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"isCurrentPathEqualTo\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">isCurrentPathEqualTo(path: string, <a href=\"api/animations/query\" class=\"code-anchor\">query</a>: string = ''): boolean</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"86yrrpo5zesjchs5ds9tvhiq5\">对指定的路径进行标准化，并和当前的标准化路径进行比较。</p>\n\n  </div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"normalize\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">normalize(url: string): string</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"aoegrs829x3g9zkfw1kvdv8r6\">给定一个表示 URL 的字符串，返回规范化的 URL 路径，没有前导或 尾部斜杠。</p>\n\n  </div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"prepareExternalUrl\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">prepareExternalUrl(url: string): string</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e3f320hf4lqnkte3edbve7zzm\">给定一个表示 URL 的字符串，返回平台特定的外部 URL 路径。 如果给定的 URL 不以前导斜杠（\n<code>'/'</code>）开头，则此方法在规范化之前添加一个 前导斜杠。此方法还会在使用 \n<code><a href=\"api/common/HashLocationStrategy\" class=\"code-anchor\">HashLocationStrategy</a></code> 时添加一个哈希值，或者在使用 \n<code><a href=\"api/common/PathLocationStrategy\" class=\"code-anchor\">PathLocationStrategy</a></code> 时添加 \n<code><a href=\"api/common/APP_BASE_HREF\" class=\"code-anchor\">APP_BASE_HREF</a></code>。</p>\n\n  </div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"go\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">go(path: string, <a href=\"api/animations/query\" class=\"code-anchor\">query</a>: string = ''): void</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"23yc4l58y2u14jchbvb4g13ir\">将浏览器的 URL 更改为给定 URL 的规范化版本，并将一个 新条目推送到平台的历史记录中。</p>\n\n  </div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"replaceState\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">replaceState(path: string, <a href=\"api/animations/query\" class=\"code-anchor\">query</a>: string = ''): void</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8rg8rhkztxoq07wvf938q3ob8\">将浏览器的 URL 更改为给定 URL 的规范化版本，并替换 平台历史记录堆栈中的顶部条目。</p>\n\n  </div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"forward\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">forward(): void</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"18lw1ijxy5ulqxcg35w4z5x7s\">在所属平台（如浏览器）的历史堆栈中前进一步。</p>\n\n  </div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"back\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">back(): void</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"b0hwpqzt41x8vdmw514jx9h2w\">在所属平台（如浏览器）的历史堆栈中后退一步。</p>\n\n  </div>\n\n    \n    <hr class=\"hr-margin\">\n  \n    <div class=\"instance-member\">\n  <a id=\"subscribe\"></a>\n  <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">subscribe(onNext: (value: <a href=\"api/common/PopStateEvent\" class=\"code-anchor\">PopStateEvent</a>) =&gt; void, onThrow?: ((exception: any) =&gt; void) | null, onReturn?: (() =&gt; void) | null): ISubscription</code-example>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dkysjuf556aiqpcokvld8vdow\">订阅平台的 \n<code>popState</code> 事件。</p>\n\n  </div>\n\n    \n    \n  \n</section>\n\n\n\n<section class=\"annotations\">\n  <h2 id=\"annotations\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8ptfpgifdyh5hp4kme5clquv2\"><i class=\"material-icons\">link</i>注解</h2>\n    <code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">@<a href=\"api/core/Injectable\" class=\"code-anchor\">Injectable</a>()</code-example>\n    \n  \n</section>\n\n\n\n\n\n\n</section></article>\n<!-- links to this doc:\n - api/common\n - api/common/HashLocationStrategy\n - api/common/LocationStrategy\n - api/common/PathLocationStrategy\n - api/common/PlatformLocation\n - api/common/testing/SpyLocation\n - api/core/FactoryProvider\n - api/platform-webworker/WORKER_APP_LOCATION_PROVIDERS\n - api/router/Router\n - api/router/testing/RouterTestingModule\n - api/router/testing/setupTestingRouter\n - guide/observables\n - guide/universal\n - guide/upgrade\n - tutorial/toh-pt5\n - tutorial/toh-pt6\n-->\n<!-- links from this doc:\n - api/animations/query\n - api/common\n - api/common/APP_BASE_HREF\n - api/common/HashLocationStrategy\n - api/common/Location#annotations\n - api/common/Location#back\n - api/common/Location#constructor\n - api/common/Location#constructor()\n - api/common/Location#description\n - api/common/Location#example\n - api/common/Location#forward\n - api/common/Location#go\n - api/common/Location#isCurrentPathEqualTo\n - api/common/Location#joinWithSlash\n - api/common/Location#location\n - api/common/Location#members\n - api/common/Location#normalize\n - api/common/Location#normalizeQueryParams\n - api/common/Location#overview\n - api/common/Location#path\n - api/common/Location#prepareExternalUrl\n - api/common/Location#replaceState\n - api/common/Location#static-members\n - api/common/Location#stripTrailingSlash\n - api/common/Location#subclasses\n - api/common/Location#subscribe\n - api/common/LocationStrategy\n - api/common/PathLocationStrategy\n - api/common/PopStateEvent\n - api/common/testing/SpyLocation\n - api/core/Component\n - api/core/Injectable\n - api/router/Router#navigate\n - api/upgrade/static\n - https://github.com/angular/angular/tree/5.2.11/packages/common/src/location/location.ts#L20-L182\n - https://www.npmjs.com/package/@angular/common\n-->"
}