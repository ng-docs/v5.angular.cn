{
  "id" : "api/animations/trigger",
  "title" : "trigger",
  "contents" : "<article>\n  <header class=\"api-header\">\n    <h1 class=\"no-toc\" id=\"trigger\">trigger</h1>\n    <label class=\"api-type-label function\">function</label>\n    \n    <label class=\"api-status-label experimental\">experimental</label>\n    \n    <span class=\"version\"></span>\n  </header>\n\n  \n  <!-- INFO BAR -->\n<section class=\"info-bar\">\n\n<table class=\"is-full-width\">\n<tbody>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4wfc14obst93bim1zva6hqjl0\">npm 包</th>\n  <td><a href=\"https://www.npmjs.com/package/@angular/animations\">@angular/animations</a></td>\n</tr>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"dkuxw56x8curh875ge5tvqede\">模块</th>\n  <td><code>import { <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a> } from <a href=\"api/animations\">'@angular/animations'</a>;</code></td>\n</tr>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"ee4tba1a8v4m1low7rnv25o9l\">源码</th>\n  <td><a href=\"https://github.com/angular/angular/tree/5.2.11/packages/animations/src/animation_metadata.ts#L243-L360\">animations/src/animation_metadata.ts</a></td>\n</tr>\n\n</tbody>\n</table>\n\n  \n  \n  \n  \n<code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\nfunction <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>(name: string, definitions: <a href=\"api/animations/AnimationMetadata\" class=\"code-anchor\">AnimationMetadata</a>[]): <a href=\"api/animations/AnimationTriggerMetadata\" class=\"code-anchor\">AnimationTriggerMetadata</a>;\n</code-example>\n\n  \n\n  \n\n<section class=\"description\">\n  <h2 id=\"description\" data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"ar5q09mdsagdppsbze96eagxl\"><i class=\"material-icons\">link</i>说明</h2>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"84he9kstuy6cu9kw7e3znomj8\"><code><a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a></code> 是一个特定于动画的函数，旨在用于 Angular 的动画 DSL 语言中。如果此信息是新的，请导航到 \n<a href=\"api/core/Component#animations\">组件动画元数据页面</a>，以更好地了解 Angular 中如何使用动画。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6wll3idhtgoe8a1oim30bl91v\"><code><a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a></code> 创建一个动画触发器，它将包含一个 \n<a href=\"api/animations/state\">状态</a> 和 \n<a href=\"api/animations/transition\">过渡</a> 条目的列表，这些条目将在绑定到触发器的表达式更改时进行评估。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b47edhad1dxjlkssbky4ss81p\">触发器在组件注释数据中的 \n<a href=\"api/core/Component#animations\">animations 部分</a> 中注册。动画触发器可以通过引用触发器的名称以及触发器绑定的表达式值（以 \n<code>[@triggerName]=\"expression\"</code> 的形式）放置在模板中的元素上。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1ymd46rfqntoifk0rxq4cxc4n\">动画触发器绑定将值字符串化，然后将先前值和当前值与任何链接的过渡进行匹配。如果向触发器绑定提供布尔值，则它将分别表示为 \n<code>1</code> 或 \n<code>true</code> 以及 \n<code>0</code> 或 \n<code>false</code>，分别表示真和假布尔值。</p>\n<h3 id=\"usage\" data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"bqkiuc1612srggyr16nss2hrq\"><i class=\"material-icons\">link</i>用法</h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d2scu8ws9ii4bbwfo74w9yh0j\"><code><a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a></code> 将根据提供的 \n<code>name</code> 值创建一个动画触发器引用。提供的 \n<code><a href=\"api/animations/animation\" class=\"code-anchor\">animation</a></code> 值应是一个包含 \n<a href=\"api/animations/state\">状态</a> 和 \n<a href=\"api/animations/transition\">过渡</a> 声明的数组。</p>\n<code-example language=\"typescript\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'my-component',\n  templateUrl: 'my-component-tpl.html',\n  animations: [\n    <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>(\"myAnimationTrigger\", [\n      <a href=\"api/animations/state\" class=\"code-anchor\">state</a>(...),\n      <a href=\"api/animations/state\" class=\"code-anchor\">state</a>(...),\n      <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>(...),\n      <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>(...)\n    ])\n  ]\n})\nclass MyComponent {\n  myStatusExp = \"something\";\n}\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bh9hckxw3qvlgpnrb6bbb73c1\">与该组件关联的模板将通过绑定到其模板代码中的元素来使用 \n<code>myAnimationTrigger</code> 动画触发器。</p>\n<code-example language=\"html\">\n&lt;!-- somewhere inside of my-component-tpl.html --&gt;\n&lt;div [@myAnimationTrigger]=\"myStatusExp\"&gt;...&lt;/div&gt;\n</code-example>\n<h2 id=\"disable-animations\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1equchj65wywqzl6522zcf5s1\"><i class=\"material-icons\">link</i>禁用动画</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"90c074ry2v8mqr9s0ch5jdw1y\">一个名为 \n<code>@.disabled</code> 的特殊动画控制绑定可以放置在元素上，它将禁用位于元素内的任何内部动画触发器的动画，以及元素本身的任何动画。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3nqihf9x1ykxtsocl68niycs0\">当为 true 时，\n<code>@.disabled</code> 绑定将阻止所有动画渲染。以下示例展示了如何使用此功能：</p>\n<code-example language=\"ts\">\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'my-component',\n  template: `\n    &lt;div [@.disabled]=\"isDisabled\"&gt;\n      &lt;div [@childAnimation]=\"exp\"&gt;&lt;/div&gt;\n    &lt;/div&gt;\n  `,\n  animations: [\n    <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>(\"childAnimation\", [\n      // ...\n    ])\n  ]\n})\nclass MyComponent {\n  isDisabled = true;\n  exp = '...';\n}\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1ppcm3ioi9ipydciysptq12tr\"><code>@childAnimation</code> 触发器不会动画化，因为 \n<code>@.disabled</code> 阻止了它发生（当为 true 时）。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8v4as0lpw8vv789r4iubq1w0j\">请注意，\n<code>@.disabled</code> 仅禁用所有动画（这意味着在同一元素上运行的任何动画也将被禁用）。</p>\n<h3 id=\"disabling-animations-application-wide\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cwa3456dxjs4e4tfi4d16kgxg\"><i class=\"material-icons\">link</i>在应用程序范围内禁用动画</h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"evd82ws4omitikf719jdff3cz\">当模板的某个区域设置为禁用动画时，\n<strong>所有</strong>内部组件的动画也将被禁用。这意味着可以通过在最顶层的 Angular 组件上放置一个设置为 \n<code>@.disabled</code> 的宿主绑定来禁用 Angular 应用程序的所有动画。</p>\n<code-example language=\"ts\">\nimport {<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>, <a href=\"api/core/HostBinding\" class=\"code-anchor\">HostBinding</a>} from '@angular/core';\n\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'app-component',\n  templateUrl: 'app.component.html',\n})\nclass AppComponent {\n  @<a href=\"api/core/HostBinding\" class=\"code-anchor\">HostBinding</a>('@.disabled')\n  public animationsDisabled = true;\n}\n</code-example>\n<h3 id=\"what-about-animations-that-us-query-and-animatechild\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2rcom6l4z9d9j8rm23p1r6xt6\"><i class=\"material-icons\">link</i>使用 \n<code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>()</code> 和 \n<code><a href=\"api/animations/animateChild\" class=\"code-anchor\">animateChild</a>()</code> 的动画呢？</h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cdv3ap79ye26w03z19ru2pp1q\">尽管内部动画被禁用，但父动画可以 \n<a href=\"api/animations/query\">查询</a> 模板中禁用区域内的内部元素，并根据需要对其进行动画化。当子动画被父动画查询，然后使用 \n<a href=\"api/animations/animateChild\">animateChild</a> 进行动画化时，情况也是如此。</p>\n\n</section>\n\n\n\n\n\n</section></article>\n<!-- links to this doc:\n - api/animations\n - api/animations/AnimationTriggerMetadata\n - api/animations/animate\n - api/animations/animateChild\n - api/animations/group\n - api/animations/keyframes\n - api/animations/query\n - api/animations/sequence\n - api/animations/stagger\n - api/animations/state\n - api/animations/style\n - api/animations/transition\n - api/core/Component\n - api/core/trigger\n - guide/animations\n - guide/router\n - guide/testing\n-->\n<!-- links from this doc:\n - api/animations\n - api/animations/AnimationMetadata\n - api/animations/AnimationTriggerMetadata\n - api/animations/animateChild\n - api/animations/animation\n - api/animations/query\n - api/animations/state\n - api/animations/transition\n - api/animations/trigger#description\n - api/animations/trigger#disable-animations\n - api/animations/trigger#disabling-animations-application-wide\n - api/animations/trigger#trigger\n - api/animations/trigger#usage\n - api/animations/trigger#what-about-animations-that-us-query-and-animatechild\n - api/core/Component\n - api/core/Component#animations\n - api/core/HostBinding\n - https://github.com/angular/angular/tree/5.2.11/packages/animations/src/animation_metadata.ts#L243-L360\n - https://www.npmjs.com/package/@angular/animations\n-->"
}