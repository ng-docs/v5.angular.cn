{
  "id" : "api/animations/query",
  "title" : "query",
  "contents" : "<article>\n  <header class=\"api-header\">\n    <h1 class=\"no-toc\" id=\"query\">query</h1>\n    <label class=\"api-type-label function\">function</label>\n    \n    <label class=\"api-status-label experimental\">experimental</label>\n    \n    <span class=\"version\"></span>\n  </header>\n\n  \n  <!-- INFO BAR -->\n<section class=\"info-bar\">\n\n<table class=\"is-full-width\">\n<tbody>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4wfc14obst93bim1zva6hqjl0\">npm 包</th>\n  <td><a href=\"https://www.npmjs.com/package/@angular/animations\">@angular/animations</a></td>\n</tr>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"dkuxw56x8curh875ge5tvqede\">模块</th>\n  <td><code>import { <a href=\"api/animations/query\" class=\"code-anchor\">query</a> } from <a href=\"api/animations\">'@angular/animations'</a>;</code></td>\n</tr>\n<tr>\n  <th data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"ee4tba1a8v4m1low7rnv25o9l\">源码</th>\n  <td><a href=\"https://github.com/angular/angular/tree/5.2.11/packages/animations/src/animation_metadata.ts#L1000-L1097\">animations/src/animation_metadata.ts</a></td>\n</tr>\n\n</tbody>\n</table>\n\n  \n  \n  \n  \n<code-example language=\"ts\" hidecopy=\"true\" class=\"no-box api-heading\">\nfunction <a href=\"api/animations/query\" class=\"code-anchor\">query</a>(selector: string, <a href=\"api/animations/animation\" class=\"code-anchor\">animation</a>: <a href=\"api/animations/AnimationMetadata\" class=\"code-anchor\">AnimationMetadata</a> | <a href=\"api/animations/AnimationMetadata\" class=\"code-anchor\">AnimationMetadata</a>[], options: <a href=\"api/animations/AnimationQueryOptions\" class=\"code-anchor\">AnimationQueryOptions</a> | null = null): <a href=\"api/animations/AnimationQueryMetadata\" class=\"code-anchor\">AnimationQueryMetadata</a>;\n</code-example>\n\n  \n\n  \n\n<section class=\"description\">\n  <h2 id=\"description\" data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"ar5q09mdsagdppsbze96eagxl\"><i class=\"material-icons\">link</i>说明</h2>\n  <p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d34yoy47xdgn9nemn99irp4hy\"><code><a href=\"api/animations/query\" class=\"code-anchor\">query</a></code> 是一个动画专用函数，设计用于 Angular 的动画 DSL 语言。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7w7a1w9i2d93tw8j11f2uzabj\">query() 用于在当前正在动画序列中动画的元素内查找一个或多个内部元素。提供的动画步骤应用于查询的元素（默认情况下，提供一个数组，然后将其视为动画序列）。</p>\n<h3 id=\"usage\" data-ng_translator_product=\"100\" data-ng_translator_confirmed data-ng_translator_ref_id=\"bqkiuc1612srggyr16nss2hrq\"><i class=\"material-icons\">link</i>用法</h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d7z91g1pro6rwzkz0ygru6doj\">query() 旨在收集多个元素，并在内部使用 \n<code>element.querySelectorAll</code>。可以提供一个额外的选项对象，用于限制要收集的项目的总数。</p>\n<code-example language=\"js\">\n<a href=\"api/animations/query\" class=\"code-anchor\">query</a>('div', [\n  <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(...),\n  <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(...)\n], { limit: 1 })\n</code-example>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6wyofeyad2ytqhe73jphognjj\">默认情况下，query() 在找不到任何项目时会抛出错误。如果查询的 \n<code>optional</code> 标志设置为 true，则会忽略此错误。</p>\n<code-example language=\"js\">\n<a href=\"api/animations/query\" class=\"code-anchor\">query</a>('.some-element-that-may-not-be-there', [\n  <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(...),\n  <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(...)\n], { optional: true })\n</code-example>\n<h3 id=\"special-selector-values\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2akh2n6sof2act3uwwqy7z1z0\"><i class=\"material-icons\">link</i>特殊选择器值</h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3ilhu03t11uhe1iae7c1uhevl\">查询中的选择器值可以使用特殊伪选择器标记来收集包含 Angular 特定特征的元素。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"mvgg3dlziantacketdab1jfk\">这些包括：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"78jlgl0jyf6qkjylvj1kglmm5\">使用 \n<code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\":enter\")</code>/\n<code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\":leave\")</code> 查询新插入/删除的元素</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dahghhnpajk6goemknpowzglz\">使用 \n<code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\":animating\")</code> 查询所有当前正在动画的元素</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6864rgfoidfwg9agyvtwgx0cr\">使用 \n<code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\"@triggerName\")</code> 查询包含动画触发器的元素</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7xmtu2vz23i3bvznrgfldn5y7\">使用 \n<code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\"@*\")</code> 查询包含动画触发器的所有元素</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"37fxv04cer83dar1dufb1urfd\">使用 \n<code><a href=\"api/animations/query\" class=\"code-anchor\">query</a>(\":self\")</code> 将当前元素包含到动画序列中</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5m8zx5j29n302moyebxesmeuu\">这些伪选择器标记中的每一个都可以合并到一个组合的查询选择器字符串中：</p>\n<code-example>\n<a href=\"api/animations/query\" class=\"code-anchor\">query</a>(':self, .record:enter, .record:leave, @subTrigger', [...])\n</code-example>\n<h3 id=\"demo\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e7tkn1wjt56o76skxs8ymztwq\"><i class=\"material-icons\">link</i>演示</h3>\n<code-example>\n@<a href=\"api/core/Component\" class=\"code-anchor\">Component</a>({\n  selector: 'inner',\n  template: `\n    &lt;div [@queryAnimation]=\"exp\"&gt;\n      &lt;h1&gt;<a href=\"api/platform-browser/Title\" class=\"code-anchor\">Title</a>&lt;/h1&gt;\n      &lt;div class=\"content\"&gt;\n        Blah blah blah\n      &lt;/div&gt;\n    &lt;/div&gt;\n  `,\n  animations: [\n   <a href=\"api/animations/trigger\" class=\"code-anchor\">trigger</a>('queryAnimation', [\n     <a href=\"api/animations/transition\" class=\"code-anchor\">transition</a>('* =&gt; goAnimate', [\n       // hide the inner elements\n       <a href=\"api/animations/query\" class=\"code-anchor\">query</a>('h1', <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({ opacity: 0 })),\n       <a href=\"api/animations/query\" class=\"code-anchor\">query</a>('.content', <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({ opacity: 0 })),\n\n       // <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a> the inner elements in, one by one\n       <a href=\"api/animations/query\" class=\"code-anchor\">query</a>('h1', <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(1000, <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({ opacity: 1 })),\n       <a href=\"api/animations/query\" class=\"code-anchor\">query</a>('.content', <a href=\"api/animations/animate\" class=\"code-anchor\">animate</a>(1000, <a href=\"api/animations/style\" class=\"code-anchor\">style</a>({ opacity: 1 })),\n     ])\n   ])\n ]\n})\nclass Cmp {\n  exp = '';\n\n  goAnimate() {\n    this.exp = 'goAnimate';\n  }\n}\n</code-example>\n\n</section>\n\n\n\n\n\n</section></article>\n<!-- links to this doc:\n - api/animations\n - api/animations/AnimationOptions\n - api/animations/AnimationQueryOptions\n - api/animations/animateChild\n - api/animations/browser/AnimationDriver\n - api/animations/browser/testing/MockAnimationDriver\n - api/animations/stagger\n - api/animations/transition\n - api/animations/trigger\n - api/common/Location\n - api/common/testing/MockLocationStrategy\n - api/common/testing/SpyLocation\n - api/core/DebugElement\n - api/http/testing/MockBackend\n - api/router/NavigationExtras\n - guide/router\n - guide/testing\n - guide/upgrade\n-->\n<!-- links from this doc:\n - api/animations\n - api/animations/AnimationMetadata\n - api/animations/AnimationQueryMetadata\n - api/animations/AnimationQueryOptions\n - api/animations/animate\n - api/animations/animation\n - api/animations/query#demo\n - api/animations/query#description\n - api/animations/query#query\n - api/animations/query#special-selector-values\n - api/animations/query#usage\n - api/animations/style\n - api/animations/transition\n - api/animations/trigger\n - api/core/Component\n - api/platform-browser/Title\n - https://github.com/angular/angular/tree/5.2.11/packages/animations/src/animation_metadata.ts#L1000-L1097\n - https://www.npmjs.com/package/@angular/animations\n-->"
}