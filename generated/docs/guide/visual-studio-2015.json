{
  "id" : "guide/visual-studio-2015",
  "title" : "Visual Studio 2015 快速入门",
  "contents" : "<div class=\"content\">\n<h1 id=\"visual-studio-2015-quickstart\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dqhflgsrrwjhyvpl5wpug3drj\"><i class=\"material-icons\">link</i>Visual Studio 2015 快速入门</h1>\n<a id=\"top\"></a>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"6k2vmfehawqfkeoxlzvtsroak\">一些开发人员更喜欢 Visual Studio 作为他们的集成开发环境 (IDE)。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2bmrbrqadkl2h1emsxlpe0c01\">本指南描述了在 \n<strong>ASP.NET 4.x 项目中使用 Visual Studio 2015 设置和使用 Angular 快速入门文件</strong> 所需的步骤。</p>\n<div class=\"l-sub-section\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"830sw07fienkeoakaudhh0afl\">本指南没有 \n<em>动态示例</em>，因为它描述的是 Visual Studio，而不是 快速入门应用程序本身。</p>\n</div>\n<a id=\"asp-net-4\"></a>\n<h2 id=\"aspnet-4x-project\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"23v5pu3x5obd1u8ab2p38nsg2\"><i class=\"material-icons\">link</i>ASP.NET 4.x 项目</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7kuta5okpsn701w4xjdvdtehu\">要在 Visual Studio 2015 中使用 \n<strong>ASP.NET 4.x 项目</strong> 设置快速入门文件，请执行以下步骤：</p>\n<div class=\"l-sub-section\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3vlmshumgmqmmci8wpgrl9kwc\">如果你更喜欢 \n<code>文件 | 新建项目</code> 体验，并且正在使用 \n<strong>ASP.NET Core</strong>， 那么可以考虑使用 \n<em>实验性</em> \n<a href=\"http://blog.stevensanderson.com/2016/10/04/angular2-template-for-visual-studio/\">ASP.NET Core + Angular 模板 for Visual Studio 2015</a>。 请注意，生成的代码与文档不匹配。请相应调整。</p>\n</div>\n<h2 id=\"prereq1\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"58ucnj30hdsgt4og23qr18nmr\"><i class=\"material-icons\">link</i>先决条件：Node.js</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4u80yoe7ef8w9zocslgtop3er\">安装 \n<strong><a href=\"https://nodejs.org/en/download/\">Node.js® 和 npm</a></strong> （如果你的机器上还没有）。</p>\n<div class=\"l-sub-section\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cilc2aaqmbk22mmgpyo1nrhel\"><strong>验证你正在运行 node 版本 <code>4.6.x</code> 或更高版本，以及 npm <code>3.x.x</code> 或更高版本</strong> （在终端窗口中运行 \n<code>node -v</code> 和 \n<code>npm -v</code>）。 旧版本会产生错误。</p>\n</div>\n<h2 id=\"prereq2\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4ezpgze1kl87infyzzx18crx7\"><i class=\"material-icons\">link</i>先决条件：Visual Studio 2015 Update 3</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"epqlh2ok7y86oku8vxn526vi2\">使用 Visual Studio 开发 Angular 应用程序的最低要求是 Update 3。 早期版本不遵循使用 TypeScript 开发应用程序的最佳实践。 要查看你的 Visual Studio 2015 版本，请转到 \n<code>帮助 | 关于 Visual Studio</code>。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eu4lu5ri9q5cw0ffccsb0lx5f\">如果你没有它，请安装 \n<strong><a href=\"https://www.visualstudio.com/en-us/news/releasenotes/vs2015-update3-vs\">Visual Studio 2015 Update 3</a></strong>。 或者使用 \n<code>工具 | 扩展和更新</code> 从 Visual Studio 2015 直接更新到 Update 3。</p>\n<h2 id=\"prereq3\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dtlcgj3nzfpbegkw9dl36meu4\"><i class=\"material-icons\">link</i>先决条件：配置外部 Web 工具</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1ih2oyznwyvxjjzy467ndhdsv\">配置 Visual Studio 以使用全局外部 Web 工具，而不是与 Visual Studio 一起提供的工具：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dtz5hmn79ef7ub5csgwuco5e7\">使用 \n<code>工具</code> | \n<code>选项</code> 打开 \n<strong>选项</strong> 对话框。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"atytfg36ptim928vtzv652env\">在左侧的树中，选择 \n<code>项目和解决方案</code> | \n<code>外部 Web 工具</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3nxa2nkxnal2q1dp75ec29bgs\">在右侧，将 \n<code>$(PATH)</code> 条目移到 \n<code>$(DevEnvDir</code>) 条目之上。这告诉 Visual Studio 在使用它自己的外部工具版本之前，先使用在全局路径中找到的外部工具（如 npm）。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dbck0vspy666n8eubkf59xz1m\">单击确定关闭对话框。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7vg3313alc52z0q7fhumqbzg2\">重新启动 Visual Studio 使此更改生效。</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"a2cj7na2w9dtktjr2wp4a6qvu\">现在，Visual Studio 首先在当前工作区中查找外部工具， 如果找不到，它会在全局路径中查找。如果 Visual Studio 在这两个位置都找不到它们，它将使用它自己的工具版本。</p>\n<h2 id=\"prereq4\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2bverkml4s2wwgnarah8oo2l5\"><i class=\"material-icons\">link</i>先决条件：为 Visual Studio 2015 安装 TypeScript 2.2</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"bz4t0xlt163lglqh1d65t38py\">虽然 Visual Studio Update 3 附带了开箱即用的 TypeScript 支持，但它目前不附带 TypeScript 2.2， 而你需要它来开发 Angular 应用程序。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9ynmo7fqjhcxo0uvlki4zlj9l\">要安装 TypeScript 2.2：</p>\n<ul>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9a62x4avzrvlocoox7rmg0csh\">下载并安装 \n<strong><a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=48593\">TypeScript 2.2 for Visual Studio 2015</a></strong></p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e8fwf6khz5hfg23fzhtaba2xv\">或者使用 npm 安装它：\n<code>npm install -g typescript@2.2</code>。</p>\n</li>\n</ul>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"i94aaeval0578uz09vgro951\">你可以在 \n<strong><a href=\"https://blogs.msdn.microsoft.com/typescript/2017/02/22/announcing-typescript-2-2/\">这里</a></strong> 找到有关 Visual Studio 中 TypeScript 2.2 支持的更多信息。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dumstztrle8pztfu3yokwhxq9\">此时，Visual Studio 已准备就绪。最好关闭 Visual Studio 并 重新启动它以确保一切正常。</p>\n<h2 id=\"download\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"74vq5rivadvd5et0igj48coww\"><i class=\"material-icons\">link</i>步骤 1：下载快速入门文件</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5n1k5lbxryssxpv5340o01sj5\"><a href=\"https://github.com/angular/quickstart\">从 GitHub 下载快速入门源代码</a> 。如果你下载的是 zip 文件，请解压缩文件。</p>\n<h2 id=\"create-project\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9yvncat8aoqxinp86g3fh17sh\"><i class=\"material-icons\">link</i>步骤 2：创建 Visual Studio ASP.NET 项目</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7aku1ov85qe49u6cxbkw71dm7\">按照以下步骤，以通常的方式创建 ASP.NET 4.x 项目：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"67r8gklwhroplyiqenvnl6sw0\">在 Visual Studio 中，从菜单中选择 \n<code>文件</code> | \n<code>新建</code> | \n<code>项目</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"18ydq1sb4reluonkylcw57v37\">在模板树中，选择 \n<code>模板</code> | \n<code>Visual C#</code>（或 \n<code>Visual Basic</code>） | \n<code>Web</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7wee5rwb3osfosi7nqcc8msat\">选择 \n<code>ASP.NET Web 应用程序</code> 模板，为项目命名，然后单击确定。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eax9x53zwckiqh72mzy6f618p\">选择所需的 ASP.NET 4.5.2 模板，然后单击确定。</li>\n</ul>\n<div class=\"l-sub-section\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5k5q5ucg9dqslh4oky8yg6d0w\">此指南使用 \n<code>空</code> 模板，不添加任何文件夹、身份验证或托管。选择适合你项目的模板和选项。</p>\n</div>\n<h2 id=\"copy\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5fzt72ir3q0z9udr8v9vv3upd\"><i class=\"material-icons\">link</i>步骤 3：将 QuickStart 文件复制到 ASP.NET 项目文件夹</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"4mdnfwwwi6yjfdl88husag80l\">将从 GitHub 下载的 QuickStart 文件复制到包含 \n<code>.csproj</code> 文件的文件夹中。 将这些文件包含在 Visual Studio 项目中，方法如下：</p>\n<ul>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"5u95p8h5l79hgny4d8tdqv7gq\">单击解决方案资源管理器中的 \n<code>显示所有文件</code> 按钮，以显示项目中所有隐藏的文件。</p>\n</li>\n<li>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9n5trpunikumvc4z714t2exaa\">右键单击要包含在项目中的每个文件夹/文件，然后选择 \n<code>包含在项目中</code>。 至少包含以下文件夹/文件：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"97sdm5u36qw6290yuf23tphvy\">src/app 文件夹（如果提示搜索 TypeScript 类型定义，则回答 \n<em>否</em>）</li>\n<li>src/styles.css</li>\n<li>src/index.html</li>\n<li>package.json</li>\n<li>src/tsconfig.json</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"restore\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"2rccr8crzhn06x4ql8jfaidz6\"><i class=\"material-icons\">link</i>步骤 4：还原所需的包</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7k10rehd5x2j9vwu67bxqzr29\">按照以下步骤还原 Angular 应用程序所需的包：</p>\n<ul>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"pbohl2vp6qbhzsvxcy9eprhk\">右键单击解决方案资源管理器中的 \n<code>package.json</code> 文件，然后选择 \n<code>还原包</code>。 \n<br>这将使用 \n<code>npm</code> 安装 \n<code>package.json</code> 文件中定义的所有包。 这可能需要一些时间。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cwi0dlwtr4oi9z97k9tkmpao5\">如果需要，打开输出窗口（\n<code>视图</code> | \n<code><a href=\"api/core/Output\" class=\"code-anchor\">输出</a></code>）以观察 npm 命令的执行情况。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"7i1wkxa75e4281bs4j37se0w9\">忽略警告。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cm7mt08steaws9ru8f2y8adhe\">还原完成后，Visual Studio 底部消息栏中应显示一条消息：\n<code>安装包完成</code>。请耐心等待。这可能需要一段时间。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"tr83dwxejgz9l1kp1t259tys\">单击解决方案资源管理器中的 \n<code>刷新</code> 图标。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"94681d2vsu3ywuov0jde4yq0j\"><strong>不要</strong>将 \n<code>node_modules</code> 文件夹包含在项目中。让它成为一个隐藏的项目文件夹。</li>\n</ul>\n<h2 id=\"build-and-run\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b33dnwh85yr38vh7mjmbduy0t\"><i class=\"material-icons\">link</i>步骤 5：构建并运行应用程序</h2>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e64c9myzwrhlbpnsg8uqg0rhv\">首先，确保 \n<code>src/index.html</code> 被设置为起始页。 右键单击解决方案资源管理器中的 \n<code>index.html</code>，然后选择选项 \n<code>设置为起始页</code>。</p>\n<h3 id=\"to-run-in-vs-with-f5\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"brfdy4f85hvdpeme7sgceoam2\"><i class=\"material-icons\">link</i>在 VS 中使用 F5 运行</h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"en9p0hhzjn20za5yhtxbhs714\">大多数 Visual Studio 开发人员喜欢按 F5 键，然后看到 IIS 服务器启动。 要使用 IIS 服务器运行 QuickStart 应用程序，你必须进行以下三个更改。</p>\n<ol>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"e9ysds0ugmnppcel4ia0h0uz0\">在 \n<code>index.html</code> 中，将 base href 从 \n<code>&lt;base href=\"/\"&gt;</code> 更改为 \n<code>&lt;base href=\"/src/\"&gt;</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"eky16kwn1ugnzkm84nc4upl7m\">同样在 \n<code>index.html</code> 中，将脚本更改为使用带斜杠的 \n<code>/node_modules</code>，而不是不带斜杠的 \n<code>node_modules</code>。</li>\n<li data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"d6d0uu1sf64avfvqsi0wnnxgn\">在 \n<code>src/systemjs.config.js</code> 中，在文件顶部附近， 将 npm \n<code>path</code> 更改为带斜杠的 \n<code>/node_modules/</code>。</li>\n</ol>\n<div class=\"alert is-important\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"1j248s88ccrxetk4m1key1wuz\">进行这些更改后，\n<code>npm start</code> 将不再起作用。 你必须选择配置 \n<em>F5 与 IIS</em> 或 \n<em>npm start 与 lite-server</em>。</p>\n</div>\n<h3 id=\"for-apps-that-use-routing\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"f1f9ru10sa6urmnrit1i5tg37\"><i class=\"material-icons\">link</i>对于使用路由的应用程序</h3>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"8l0jxhpc5bcrv4gsfw6hnelhk\">如果你的应用程序使用路由，你需要告诉服务器在用户请求 HTML 页面时始终返回 \n<code>index.html</code>，原因在 \n<a href=\"guide/deployment#fallback\">部署</a> 指南中解释。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"emf78dxelhz2shlrvrzfkesk3\">当你\n<em>在</em>应用程序中移动时，一切看起来都很好。 但如果你刷新浏览器或将指向应用程序页面的链接（称为“深层链接”）粘贴到浏览器地址栏中，你就会立即看到问题。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dyx5l3uy5h8zypdkj6wsncdoc\">对于除 \n<code>/</code> 或 \n<code>/index.html</code> 之外的任何地址，你很可能会从服务器收到 \n<em>404 - 页面未找到</em> 响应。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"3a9wfp7qjwds2fvua5nb2fdi5\">你必须配置服务器，以便对这些“未知”页面的请求返回 \n<code>index.html</code>。 \n<code>lite-server</code> 开发服务器开箱即用。 如果你已切换到 F5 和 IIS，则必须配置 IIS 来执行此操作。 本节将逐步介绍如何调整 QuickStart 应用程序。</p>\n<h4 id=\"configure-iis-rewrite-rules\" data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"cc407lwjz1pz2ar1dspdxbk2t\"><i class=\"material-icons\">link</i>配置 IIS 重写规则</h4>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dfgkda0wpianxz8un6r23vgd0\">Visual Studio 附带 IIS Express，它内置了重写模块。 但是，如果你使用的是常规 IIS，则必须安装重写模块。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"dmelmomfururqh6yi13moedts\">通过在 \n<code>web.config</code> 底部附近添加以下重写规则，告诉 Visual Studio 如何处理对路由应用程序页面的请求：</p>\n<code-example format=\".\">\n  &lt;system.webServer&gt;\n    &lt;rewrite&gt;\n      &lt;rules&gt;\n        &lt;rule name=\"Angular <a href=\"api/router/Routes\" class=\"code-anchor\">Routes</a>\" stopProcessing=\"true\"&gt;\n          &lt;match url=\".*\" /&gt;\n          &lt;conditions logicalGrouping=\"MatchAll\"&gt;\n            &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsFile\" negate=\"true\" /&gt;\n            &lt;add input=\"{REQUEST_FILENAME}\" matchType=\"IsDirectory\" negate=\"true\" /&gt;\n          &lt;/conditions&gt;\n          &lt;action type=\"Rewrite\" url=\"/src/\" /&gt;\n        &lt;/rule&gt;\n      &lt;/rules&gt;\n    &lt;/rewrite&gt;\n  &lt;/system.webServer&gt;\n\n</code-example>\n<div class=\"l-sub-section\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"30dxzger3r5dlex2nz2a8fexr\">匹配 URL \n<code>&lt;match url=\".*\" /&gt;</code> 将重写每个请求。如果你希望某些请求通过（例如 Web API 请求），则必须调整它。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"195my48lpl1m90syqukhb467f\"><code>&lt;action type=\"Rewrite\" url=\"/src/\"/&gt;</code> 中的 URL 应 与 \n<code>index.html</code> 中的 base href 相匹配。</p>\n</div>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"btaep4pf7fqvebt60utjo9cfv\">通过单击\n<strong>运行</strong>按钮或按 \n<code>F5</code>，使用调试器构建并启动应用程序。</p>\n<div class=\"l-sub-section\">\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"532tf50iacmh1u6pu2m2ijt0p\">按 \n<code>Ctrl-F5</code> 可以更快地运行，无需调试器。</p>\n</div>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"b0wbfa9bpjnoxp6ksbdkfvtvm\">默认浏览器将打开并显示 QuickStart 示例应用程序。</p>\n<p data-ng_translator_product=\"100\" data-ng_translator_ref_id=\"9utcr1g5ft4mgsm8ytyh9smf8\">尝试编辑任何项目文件。保存并刷新浏览器以 查看更改。</p>\n\n</div>\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/core/Output\n - api/router/Routes\n - guide/deployment#fallback\n - guide/visual-studio-2015#aspnet-4x-project\n - guide/visual-studio-2015#build-and-run\n - guide/visual-studio-2015#configure-iis-rewrite-rules\n - guide/visual-studio-2015#copy\n - guide/visual-studio-2015#create-project\n - guide/visual-studio-2015#download\n - guide/visual-studio-2015#for-apps-that-use-routing\n - guide/visual-studio-2015#prereq1\n - guide/visual-studio-2015#prereq2\n - guide/visual-studio-2015#prereq3\n - guide/visual-studio-2015#prereq4\n - guide/visual-studio-2015#restore\n - guide/visual-studio-2015#to-run-in-vs-with-f5\n - guide/visual-studio-2015#visual-studio-2015-quickstart\n - http://blog.stevensanderson.com/2016/10/04/angular2-template-for-visual-studio/\n - https://blogs.msdn.microsoft.com/typescript/2017/02/22/announcing-typescript-2-2/\n - https://github.com/angular/quickstart\n - https://nodejs.org/en/download/\n - https://www.microsoft.com/en-us/download/details.aspx?id=48593\n - https://www.visualstudio.com/en-us/news/releasenotes/vs2015-update3-vs\n-->"
}